{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="bg-neutral-900 rounded-lg h-full w-full overflow-hidden overflow-y-auto py-5 px-5">
    <h1 class="text-4xl font-bold text-white">Tracks</h1>
    <a href="{% url 'tracks:track_new' %}" class="inline-block mt-4 mb-5 bg-indigo-600 border border-transparent rounded-md py-2 px-3 text-base font-medium text-white hover:bg-indigo-700">New Track</a>
    <div class="flex flex-col gap-y-2 w-full px-6">
        {% for track in tracks %}
            <div class="flex items-center gap-x-4 w-full">
                <div class="flex-1">
                    <a onclick="playTrack('{{ track.audio_file.url|urlencode }}', '{{ track.name }}', '{{ track.artist.name }}')" class="flex items-center gap-x-3 cursor-pointer hover:bg-neutral-800/50 w-full p-2 rounded-md">
                        <div class="relative rounded-md max-h-[48px] max-w-[48px] overflow-hidden">
                            <img alt="{{ track.name }}" class="object-cover" src="{% static 'img/default-album.jpg' %}">
                        </div>
                        <div class="flex flex-col gap-y-1 overflow-hidden">
                            <p class="text-white truncate">{{ track.name }}</p>
                            <p class="text-neutral-400 text-sm truncate">By {{ track.artist.name }}</p>
                        </div>
                    </a>
                </div>
                <button class="cursor-pointer hover:opacity-75 transition ">
                    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" color="white" height="25" width="25" xmlns="http://www.w3.org/2000/svg" style="color: white;"><path d="M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"></path></svg>
                </button>
            </div>
        {% empty %}
            <div class="bg-white shadow rounded p-4">
                <p>No tracks found.</p>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}